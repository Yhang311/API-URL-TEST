{"ast":null,"code":"async function fetch_token(username, team) {\n  const url = 'http://220.88.39.23:5000/api/user/token?username=${encodeURIComponent(username)}&team=${encodeURIComponent(team)}';\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch token!\");\n    }\n    const data = await response.json();\n    localStorage.setItem(`${username}_access_token`, data.access_token);\n    localStorage.setItem(`${username}_msg`, data.msg);\n    console.log(\"Access token and message saved to localStorage:\");\n    console.log(\"username:\", username);\n    console.log(\"team:\", team);\n    console.log(\"access_token:\", data.access_token);\n    console.log(\"msg:\", data.msg);\n  } catch (error) {\n    console.error(\"Error fetching token and message:\", error);\n  }\n}\n\n// function token_info(username,team) {\n//   const [data, setData] = useState(null);\n//   const [error, setError] = useState(null); \n\n//   const handleClick = async () => {\n//     try {\n//       const response = await fetch('http://220.88.39.23:5000/api/user/token?username=${encodeURIComponent(username)}&team=${encodeURIComponent(team)}');//우리의 API URL\n\n//       if (!response.ok) {\n//         throw new Error(`error code：${response.status}`);\n//       }\n//       const result = await response.json(); \n//       setData(result);\n//       setError(null); \n//      catch (err) {\n//       console.error('error:', err);\n//       setError(err.message); \n//     }\n//   };\n\n//   return(\n//     <></>\n//   );\n// }\n\nexport default token_info;","map":{"version":3,"names":["fetch_token","username","team","url","response","fetch","ok","Error","data","json","localStorage","setItem","access_token","msg","console","log","error","token_info"],"sources":["/Users/yanghang/test/react-test/src/token_info.js"],"sourcesContent":["\nasync function fetch_token(username,team) {\n    const url='http://220.88.39.23:5000/api/user/token?username=${encodeURIComponent(username)}&team=${encodeURIComponent(team)}';\n\n    try{\n        const response =await fetch(url);\n        if(!response.ok){\n            throw new Error(\"Failed to fetch token!\")\n        }\n\n        const data = await response.json()\n        localStorage.setItem(`${username}_access_token`, data.access_token);\n        localStorage.setItem(`${username}_msg`, data.msg);\n        \n        console.log(\"Access token and message saved to localStorage:\");\n        console.log(\"username:\", username);\n        console.log(\"team:\", team);\n        console.log(\"access_token:\", data.access_token);\n        console.log(\"msg:\", data.msg);\n        \n    }catch (error) {\n        console.error(\"Error fetching token and message:\", error);\n    }\n}\n\n\n// function token_info(username,team) {\n//   const [data, setData] = useState(null);\n//   const [error, setError] = useState(null); \n\n//   const handleClick = async () => {\n//     try {\n//       const response = await fetch('http://220.88.39.23:5000/api/user/token?username=${encodeURIComponent(username)}&team=${encodeURIComponent(team)}');//우리의 API URL\n      \n//       if (!response.ok) {\n//         throw new Error(`error code：${response.status}`);\n//       }\n//       const result = await response.json(); \n//       setData(result);\n//       setError(null); \n//      catch (err) {\n//       console.error('error:', err);\n//       setError(err.message); \n//     }\n//   };\n\n//   return(\n//     <></>\n//   );\n// }\n\nexport default token_info;"],"mappings":"AACA,eAAeA,WAAWA,CAACC,QAAQ,EAACC,IAAI,EAAE;EACtC,MAAMC,GAAG,GAAC,mHAAmH;EAE7H,IAAG;IACC,MAAMC,QAAQ,GAAE,MAAMC,KAAK,CAACF,GAAG,CAAC;IAChC,IAAG,CAACC,QAAQ,CAACE,EAAE,EAAC;MACZ,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC7C;IAEA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAClCC,YAAY,CAACC,OAAO,CAAC,GAAGV,QAAQ,eAAe,EAAEO,IAAI,CAACI,YAAY,CAAC;IACnEF,YAAY,CAACC,OAAO,CAAC,GAAGV,QAAQ,MAAM,EAAEO,IAAI,CAACK,GAAG,CAAC;IAEjDC,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC;IAC9DD,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEd,QAAQ,CAAC;IAClCa,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEb,IAAI,CAAC;IAC1BY,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEP,IAAI,CAACI,YAAY,CAAC;IAC/CE,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEP,IAAI,CAACK,GAAG,CAAC;EAEjC,CAAC,QAAOG,KAAK,EAAE;IACXF,OAAO,CAACE,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;EAC7D;AACJ;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAeC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}