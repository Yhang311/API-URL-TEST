{"ast":null,"code":"async function fetch_calendar(token) {\n  const url = 'http://220.88.39.23:5000/api/calendar/past_events';\n  try {\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        // 使用反引号插值\n        'Content-Type': 'application/json' // 可选，视 API 而定\n      }\n    });\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch calendar events!\");\n    }\n    const calendar_data = await response.json();\n    setData(calendar_data); // 确保 setData 函数存在且有效\n  } catch (error) {\n    console.error(\"Error fetching calendar data:\", error);\n  }\n}\nexport default fetch_calendar;","map":{"version":3,"names":["fetch_calendar","token","url","response","fetch","method","headers","ok","Error","calendar_data","json","setData","error","console"],"sources":["/Users/yanghang/test/react-test/src/calendar.js"],"sourcesContent":["async function fetch_calendar(token) {\n    const url = 'http://220.88.39.23:5000/api/calendar/past_events';\n\n    try {\n        const response = await fetch(url, {\n            method: 'GET',\n            headers: {\n                'Authorization': `Bearer ${token}`, // 使用反引号插值\n                'Content-Type': 'application/json', // 可选，视 API 而定\n            }\n        });\n\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch calendar events!\"); \n        }\n\n        const calendar_data = await response.json();\n        setData(calendar_data); // 确保 setData 函数存在且有效\n\n    } catch (error) {\n        console.error(\"Error fetching calendar data:\", error);\n    }\n}\n\nexport default fetch_calendar;\n"],"mappings":"AAAA,eAAeA,cAAcA,CAACC,KAAK,EAAE;EACjC,MAAMC,GAAG,GAAG,mDAAmD;EAE/D,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;MAC9BG,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,eAAe,EAAE,UAAUL,KAAK,EAAE;QAAE;QACpC,cAAc,EAAE,kBAAkB,CAAE;MACxC;IACJ,CAAC,CAAC;IAEF,IAAI,CAACE,QAAQ,CAACI,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;IACvD;IAEA,MAAMC,aAAa,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IAC3CC,OAAO,CAACF,aAAa,CAAC,CAAC,CAAC;EAE5B,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;EACzD;AACJ;AAEA,eAAeZ,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}