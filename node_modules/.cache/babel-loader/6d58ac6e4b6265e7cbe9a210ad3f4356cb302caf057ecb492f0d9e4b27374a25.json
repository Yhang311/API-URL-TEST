{"ast":null,"code":"async function fetch_calendar(token) {\n  const url = 'http://220.88.39.23:5000/api/calendar/past_events';\n  //const url = 'http://220.88.39.23:5000/api/calendar/planned_events';\n  try {\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        // 添加 token 到 Authorization 头\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      const errorMessage = await response.text(); // 捕获服务器返回的详细错误信息\n      console.error(\"Error message from server:\", errorMessage);\n      throw new Error(`Failed to fetch calendar events: ${response.status}`);\n    }\n    const calendar_data = await response.json();\n    return calendar_data;\n  } catch (error) {\n    console.error(\"Error fetching calendar data:\", error);\n    throw error;\n  }\n}\nexport default fetch_calendar;","map":{"version":3,"names":["fetch_calendar","token","url","response","fetch","method","headers","ok","errorMessage","text","console","error","Error","status","calendar_data","json"],"sources":["/Users/yanghang/test/react-test/src/calendar.js"],"sourcesContent":["\n\nasync function fetch_calendar(token) {\n    const url = 'http://220.88.39.23:5000/api/calendar/past_events';\n    //const url = 'http://220.88.39.23:5000/api/calendar/planned_events';\n    try {\n        const response = await fetch(url, {\n            method: 'GET',\n            headers: {\n                'Authorization': `Bearer ${token}`, // 添加 token 到 Authorization 头\n                'Content-Type': 'application/json',\n            }\n        });\n\n        if (!response.ok) {\n            const errorMessage = await response.text(); // 捕获服务器返回的详细错误信息\n            console.error(\"Error message from server:\", errorMessage);\n            throw new Error(`Failed to fetch calendar events: ${response.status}`);\n        }\n\n        const calendar_data = await response.json();\n        return calendar_data; \n\n    } catch (error) {\n        console.error(\"Error fetching calendar data:\", error);\n        throw error; \n    }\n}\n\nexport default fetch_calendar;\n"],"mappings":"AAEA,eAAeA,cAAcA,CAACC,KAAK,EAAE;EACjC,MAAMC,GAAG,GAAG,mDAAmD;EAC/D;EACA,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;MAC9BG,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,eAAe,EAAE,UAAUL,KAAK,EAAE;QAAE;QACpC,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,IAAI,CAACE,QAAQ,CAACI,EAAE,EAAE;MACd,MAAMC,YAAY,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5CC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEH,YAAY,CAAC;MACzD,MAAM,IAAII,KAAK,CAAC,oCAAoCT,QAAQ,CAACU,MAAM,EAAE,CAAC;IAC1E;IAEA,MAAMC,aAAa,GAAG,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;IAC3C,OAAOD,aAAa;EAExB,CAAC,CAAC,OAAOH,KAAK,EAAE;IACZD,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,MAAMA,KAAK;EACf;AACJ;AAEA,eAAeX,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}